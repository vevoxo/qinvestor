<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qinvestors Pro - Next-Gen Trading</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap');
        
        :root {
            --primary: #00f0ff;
            --secondary: #ff00ff;
            --bg-dark: #0a0a12;
            --bg-darker: #05050a;
            --panel: #12121a;
            --border: #25253a;
            --text: #e0e0ff;
            --text-dim: #a0a0c0;
            --profit: #00ff85;
            --loss: #ff3c3c;
            --glow: 0 0 10px rgba(0, 240, 255, 0.3);
            --glow-secondary: 0 0 10px rgba(255, 0, 255, 0.3);
        }
        
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: var(--bg-dark);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            margin: 0;
        }
        
        .font-display {
            font-family: 'Orbitron', sans-serif;
        }
        
        .profit {
            color: var(--profit);
        }
        
        .loss {
            color: var(--loss);
        }
        
        .neutral {
            color: var(--text-dim);
        }
        
        .chart-container {
            height: 100%;
            width: 100%;
        }
        
        .symbol-card:hover {
            background-color: var(--panel);
            box-shadow: var(--glow);
            transform: translateY(-1px);
        }
        
        .active-tab {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
            text-shadow: 0 0 5px rgba(0, 240, 255, 0.5);
        }
        
        .dropdown:hover .dropdown-menu {
            display: block;
            animation: fadeIn 0.2s ease-out;
        }
        
        .glow {
            box-shadow: var(--glow);
        }
        
        .glow-secondary {
            box-shadow: var(--glow-secondary);
        }
        
        .cyber-border {
            border: 1px solid var(--border);
            position: relative;
        }
        
        .cyber-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border: 1px solid var(--primary);
            z-index: -1;
            opacity: 0.5;
        }
        
        .cyber-button {
            background: linear-gradient(135deg, var(--panel) 0%, #1a1a2a 100%);
            border: 1px solid var(--border);
            transition: all 0.2s ease;
        }
        
        .cyber-button:hover {
            background: linear-gradient(135deg, #1a1a2a 0%, #25253a 100%);
            box-shadow: var(--glow);
            transform: translateY(-1px);
        }
        
        .cyber-button-primary {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.1) 0%, rgba(0, 240, 255, 0.3) 100%);
            border: 1px solid var(--primary);
        }
        
        .cyber-button-primary:hover {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.2) 0%, rgba(0, 240, 255, 0.4) 100%);
            box-shadow: var(--glow);
        }
        
        .cyber-button-secondary {
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.1) 0%, rgba(255, 0, 255, 0.3) 100%);
            border: 1px solid var(--secondary);
        }
        
        .cyber-button-secondary:hover {
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.2) 0%, rgba(255, 0, 255, 0.4) 100%);
            box-shadow: var(--glow-secondary);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        
        .scanlines {
            position: relative;
            overflow: hidden;
        }
        
        .scanlines::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                to bottom,
                transparent 0%,
                rgba(0, 240, 255, 0.05) 50%,
                transparent 100%
            );
            background-size: 100% 4px;
            pointer-events: none;
            animation: scanline 8s linear infinite;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--panel);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #00c8d4;
        }
        
        /* Terminal-like blinking cursor */
        .blink {
            animation: blink 1s step-end infinite;
        }
        
        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* Grid pattern */
        .grid-bg {
            background-image: 
                linear-gradient(rgba(0, 240, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 240, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
            }
            
            .mobile-market-card {
                min-width: 140px;
            }
        }
    </style>
</head>
<body class="flex flex-col">
    <!-- Desktop Header -->
    <header class="hidden md:flex items-center justify-between px-6 py-3 bg-[var(--panel)] border-b border-[var(--border)]">
        <div class="flex items-center space-x-8">
            <div class="text-xl font-display font-bold text-[var(--primary)] flex items-center">
                <span class="mr-2">Qinvestor</span>
                <span class="text-xs bg-[var(--primary)] text-[var(--bg-dark)] px-2 py-1 rounded-full font-sans">PRO</span>
            </div>
            <div class="flex space-x-6 text-sm">
                <div class="cursor-pointer hover:text-[var(--primary)] flex items-center">
                    <i data-feather="activity" class="w-4 h-4 mr-2"></i>
                    <span>Dashboard</span>
                </div>
                <div class="cursor-pointer hover:text-[var(--primary)] flex items-center">
                    <i data-feather="trending-up" class="w-4 h-4 mr-2"></i>
                    <span>Markets</span>
                </div>
                <div class="cursor-pointer hover:text-[var(--primary)] flex items-center">
                    <i data-feather="briefcase" class="w-4 h-4 mr-2"></i>
                    <span>Portfolio</span>
                </div>
                <div class="cursor-pointer hover:text-[var(--primary)] flex items-center">
                    <i data-feather="bar-chart-2" class="w-4 h-4 mr-2"></i>
                    <span>Analytics</span>
                </div>
                <div class="cursor-pointer hover:text-[var(--primary)] flex items-center">
                    <i data-feather="bell" class="w-4 h-4 mr-2"></i>
                    <span>Alerts</span>
                </div>
            </div>
        </div>
        
        <div class="flex items-center space-x-6">
            <div class="flex space-x-6">
                <div class="text-right">
                    <div class="text-xs text-[var(--text-dim)]">BALANCE</div>
                    <div class="font-medium">$10,245.67</div>
                </div>
                <div class="text-right">
                    <div class="text-xs text-[var(--text-dim)]">EQUITY</div>
                    <div class="font-medium">$10,532.12</div>
                </div>
                <div class="text-right">
                    <div class="text-xs text-[var(--text-dim)]">MARGIN</div>
                    <div class="font-medium">$1,245.50</div>
                </div>
                <div class="text-right">
                    <div class="text-xs text-[var(--text-dim)]">P/L</div>
                    <div class="font-medium profit">+$286.45</div>
                </div>
            </div>
            
            <div class="relative dropdown">
                <div class="flex items-center cursor-pointer">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--secondary)] flex items-center justify-center glow">
                        <i data-feather="user" class="w-4 h-4"></i>
                    </div>
                </div>
                <div class="dropdown-menu absolute hidden right-0 mt-2 w-48 bg-[var(--panel)] rounded-md z-10 border border-[var(--border)] glow">
                    <div class="py-1">
                        <a href="#" class="block px-4 py-2 text-sm hover:bg-[var(--bg-dark)] flex items-center">
                            <i data-feather="settings" class="w-4 h-4 mr-2"></i>
                            Account
                        </a>
                        <a href="#" class="block px-4 py-2 text-sm hover:bg-[var(--bg-dark)] flex items-center">
                            <i data-feather="credit-card" class="w-4 h-4 mr-2"></i>
                            Deposit
                        </a>
                        <a href="#" class="block px-4 py-2 text-sm hover:bg-[var(--bg-dark)] flex items-center">
                            <i data-feather="dollar-sign" class="w-4 h-4 mr-2"></i>
                            Withdraw
                        </a>
                        <div class="border-t border-[var(--border)] my-1"></div>
                        <a href="#" class="block px-4 py-2 text-sm hover:bg-[var(--bg-dark)] flex items-center">
                            <i data-feather="log-out" class="w-4 h-4 mr-2"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Header -->
    <header class="md:hidden bg-[var(--panel)] border-b border-[var(--border)]">
        <div class="px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <span class="bg-[var(--primary)] text-[var(--bg-dark)] text-xs px-2 py-1 rounded-full font-bold pulse">LIVE</span>
                <i data-feather="refresh-cw" class="w-4 h-4 text-[var(--text-dim)] animate-spin"></i>
            </div>
            <div class="text-center">
                <div class="text-xs text-[var(--text-dim)]">EQUITY</div>
                <div class="font-display font-bold">$627.31</div>
            </div>
            <i data-feather="menu" class="w-6 h-6" onclick="toggleMobileMenu()"></i>
        </div>
        
        <div class="px-4 py-2 flex justify-between text-xs border-b border-[var(--border)]">
            <div class="text-center">
                <div class="text-[var(--text-dim)]">BALANCE</div>
                <div>$600.00</div>
            </div>
            <div class="text-center">
                <div class="text-[var(--text-dim)]">CREDIT</div>
                <div>$0.00</div>
            </div>
            <div class="text-center">
                <div class="text-[var(--text-dim)]">FREE</div>
                <div>$627.31</div>
            </div>
            <div class="text-center">
                <div class="text-[var(--text-dim)]">MARGIN</div>
                <div>$0.00</div>
            </div>
            <div class="text-center">
                <div class="text-[var(--text-dim)]">LEVEL</div>
                <div class="text-[var(--profit)]">∞</div>
            </div>
        </div>
        
        <!-- Mobile Menu (hidden by default) -->
        <div id="mobileMenu" class="hidden bg-[var(--bg-dark)]">
            <div class="px-4 py-3 border-b border-[var(--border)] flex items-center">
                <i data-feather="activity" class="w-4 h-4 mr-2"></i>
                <span>Dashboard</span>
            </div>
            <div class="px-4 py-3 border-b border-[var(--border)] flex items-center">
                <i data-feather="trending-up" class="w-4 h-4 mr-2"></i>
                <span>Markets</span>
            </div>
            <div class="px-4 py-3 border-b border-[var(--border)] flex items-center">
                <i data-feather="briefcase" class="w-4 h-4 mr-2"></i>
                <span>Portfolio</span>
            </div>
            <div class="px-4 py-3 flex items-center">
                <i data-feather="user" class="w-4 h-4 mr-2"></i>
                <span>Account</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex flex-1 overflow-hidden">
        <!-- Desktop Sidebar -->
        <aside class="hidden md:block w-64 bg-[var(--panel)] border-r border-[var(--border)] overflow-y-auto grid-bg">
            <div class="p-4">
                <div class="flex items-center justify-between mb-4">
                    <div class="text-sm font-medium">MARKET WATCH</div>
                    <div class="flex space-x-2">
                        <button class="cyber-button p-1 rounded">
                            <i data-feather="search" class="w-4 h-4"></i>
                        </button>
                        <button class="cyber-button p-1 rounded">
                            <i data-feather="plus" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
                
                <div class="flex border-b border-[var(--border)]">
                    <div class="pb-2 px-2 font-medium cursor-pointer active-tab">FAVORITES</div>
                    <div class="pb-2 px-2 text-[var(--text-dim)] cursor-pointer">ALL</div>
                </div>
                
                <div class="mt-4 space-y-2">
                    <!-- Symbol List -->
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div>
                                <div class="font-medium">EUR/USD</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 0.2</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">1.0845</div>
                            <div class="text-xs profit">+0.12%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div>
                                <div class="font-medium">GBP/USD</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 0.3</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">1.2650</div>
                            <div class="text-xs loss">-0.05%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div>
                                <div class="font-medium">USD/JPY</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 0.4</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">151.35</div>
                            <div class="text-xs profit">+0.24%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">MT</span>
                            </div>
                            <div>
                                <div class="font-medium">XAU/USD</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 0.5</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">2,185.50</div>
                            <div class="text-xs profit">+0.87%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">CR</span>
                            </div>
                            <div>
                                <div class="font-medium">BTC/USD</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 12.5</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">68,245.00</div>
                            <div class="text-xs loss">-1.32%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">CR</span>
                            </div>
                            <div>
                                <div class="font-medium">ETH/USD</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 5.2</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">3,450.25</div>
                            <div class="text-xs profit">+2.14%</div>
                        </div>
                    </div>
                    
                    <div class="symbol-card p-3 rounded flex justify-between items-center cyber-border transition-all duration-200">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">ST</span>
                            </div>
                            <div>
                                <div class="font-medium">AAPL</div>
                                <div class="text-xs text-[var(--text-dim)]">Spread: 0.15</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-display">172.50</div>
                            <div class="text-xs loss">-0.45%</div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <div class="text-sm font-medium mb-2">QUICK TRADE</div>
                    <div class="cyber-border rounded p-3">
                        <div class="flex justify-between items-center mb-2">
                            <div class="text-sm">EUR/USD</div>
                            <div class="font-display">1.0845</div>
                        </div>
                        <div class="grid grid-cols-2 gap-2 mb-2">
                            <button onclick="handleTrade('buy')" class="cyber-button-primary py-2 rounded text-sm mr-1">BUY</button>
<button onclick="handleTrade('sell')" class="cyber-button-secondary py-2 rounded text-sm">SELL</button>
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mb-1">Volume (Lots)</div>
                        <div class="flex mb-3">
                            <input type="number" value="0.1" class="w-full bg-[var(--bg-dark)] border border-[var(--border)] rounded px-2 py-1 text-sm">
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mb-1">Take Profit</div>
                        <div class="flex mb-1">
                            <input type="number" placeholder="Price" class="w-full bg-[var(--bg-dark)] border border-[var(--border)] rounded px-2 py-1 text-sm">
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mb-1">Stop Loss</div>
                        <div class="flex">
                            <input type="number" placeholder="Price" class="w-full bg-[var(--bg-dark)] border border-[var(--border)] rounded px-2 py-1 text-sm">
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main Chart Area -->
        <main class="flex-1 flex flex-col overflow-hidden">
            <!-- Chart Tools (Desktop) -->
            <div class="hidden md:flex items-center justify-between px-4 py-2 bg-[var(--panel)] border-b border-[var(--border)]">
                <div class="flex space-x-2">
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">1m</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">5m</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">15m</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer active-tab">1H</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">4H</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">1D</div>
                    <div class="px-3 py-1 text-xs cyber-button cursor-pointer">1W</div>
                </div>
                
                <div class="flex space-x-2">
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Line Tool">
                        <i data-feather="minus"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Horizontal Line">
                        <i data-feather="minus-2"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Trend Line">
                        <i data-feather="trending-up"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Fibonacci">
                        <i data-feather="code"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Rectangle">
                        <i data-feather="square"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Text">
                        <i data-feather="type"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Indicators">
                        <i data-feather="bar-chart-2"></i>
                    </div>
                    <div class="cyber-button p-1 rounded cursor-pointer" title="Compare">
                        <i data-feather="layers"></i>
                    </div>
                </div>
            </div>
            
            <!-- Current Symbol Info -->
            <div class="flex items-center justify-between px-4 py-2 bg-[var(--panel)] border-b border-[var(--border)]">
                <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                        <span class="text-xs">FX</span>
                    </div>
                    <div class="font-display font-medium">EUR/USD</div>
                    <div class="ml-4 text-xs text-[var(--text-dim)]">OANDA:FX_EURUSD</div>
                </div>
                
                <div class="flex space-x-6">
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">BID</div>
                        <div class="font-display">1.0845</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">ASK</div>
                        <div class="font-display">1.0847</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">SPREAD</div>
                        <div>0.2</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">TODAY</div>
                        <div class="profit">+0.12%</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">HIGH</div>
                        <div>1.0856</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-[var(--text-dim)]">LOW</div>
                        <div>1.0832</div>
                    </div>
                </div>
            </div>
            
            <!-- TradingView Chart -->
            <div class="flex-1 scanlines">
                <div id="tradingview-chart" class="chart-container"></div>
            </div>
            
            <!-- Mobile Market Overview -->
            <div class="md:hidden px-4 py-3 overflow-x-auto">
                <div class="text-sm font-medium mb-2">FAVORITES</div>
                <div class="flex space-x-3">
                    <div class="mobile-market-card p-3 bg-[var(--panel)] rounded cyber-border">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div class="text-sm">EUR/USD</div>
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Spread: 0.2</div>
                        <div class="font-display text-lg mt-1">1.0845</div>
                        <div class="text-xs profit mt-1">+0.12%</div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Low: 1.0832</div>
                        <div class="text-xs text-[var(--text-dim)]">High: 1.0856</div>
                    </div>
                    
                    <div class="mobile-market-card p-3 bg-[var(--panel)] rounded cyber-border">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div class="text-sm">GBP/USD</div>
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Spread: 0.3</div>
                        <div class="font-display text-lg mt-1">1.2650</div>
                        <div class="text-xs loss mt-1">-0.05%</div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Low: 1.2638</div>
                        <div class="text-xs text-[var(--text-dim)]">High: 1.2672</div>
                    </div>
                    
                    <div class="mobile-market-card p-3 bg-[var(--panel)] rounded cyber-border">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">FX</span>
                            </div>
                            <div class="text-sm">USD/JPY</div>
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Spread: 0.4</div>
                        <div class="font-display text-lg mt-1">151.35</div>
                        <div class="text-xs profit mt-1">+0.24%</div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Low: 151.12</div>
                        <div class="text-xs text-[var(--text-dim)]">High: 151.48</div>
                    </div>
                    
                    <div class="mobile-market-card p-3 bg-[var(--panel)] rounded cyber-border">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-[var(--bg-dark)] flex items-center justify-center mr-2">
                                <span class="text-xs">MT</span>
                            </div>
                            <div class="text-sm">XAU/USD</div>
                        </div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Spread: 0.5</div>
                        <div class="font-display text-lg mt-1">2,185.50</div>
                        <div class="text-xs profit mt-1">+0.87%</div>
                        <div class="text-xs text-[var(--text-dim)] mt-1">Low: 2,178.30</div>
                        <div class="text-xs text-[var(--text-dim)]">High: 2,188.75</div>
                    </div>
                </div>
            </div>
            
            <!-- Trade Panel (Desktop) -->
            <div class="hidden md:block h-64 bg-[var(--panel)] border-t border-[var(--border)] overflow-y-auto">
                <div class="flex border-b border-[var(--border)]">
                    <div class="pb-2 px-4 font-medium cursor-pointer active-tab">OPEN POSITIONS (3)</div>
                    <div class="pb-2 px-4 text-[var(--text-dim)] cursor-pointer">PENDING ORDERS (0)</div>
                    <div class="pb-2 px-4 text-[var(--text-dim)] cursor-pointer">HISTORY</div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-[var(--border)]">
                        <thead>
                            <tr>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">TICKET</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">SYMBOL</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">SIZE</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">SL/TP</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">OPEN PRICE</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">PRICE</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">P/L</th>
                                <th class="px-4 py-2 text-left text-xs text-[var(--text-dim)]">ACTIONS</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-[var(--border)]">
                            <tr>
                                <td class="px-4 py-2 text-sm font-mono">#123456</td>
                                <td class="px-4 py-2 text-sm">EUR/USD</td>
                                <td class="px-4 py-2 text-sm">0.10</td>
                                <td class="px-4 py-2 text-sm">1.0800 / 1.0900</td>
                                <td class="px-4 py-2 text-sm">1.0825</td>
                                <td class="px-4 py-2 text-sm">1.0845</td>
                                <td class="px-4 py-2 text-sm profit">+$20.00</td>
                                <td class="px-4 py-2 text-sm">
                                    <button class="cyber-button-primary px-2 py-1 text-xs mr-1">CLOSE</button>
                                    <button class="cyber-button px-2 py-1 text-xs">EDIT</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2 text-sm font-mono">#123457</td>
                                <td class="px-4 py-2 text-sm">XAU/USD</td>
                                <td class="px-4 py-2 text-sm">0.05</td>
                                <td class="px-4 py-2 text-sm">2,150.00 / 2,200.00</td>
                                <td class="px-4 py-2 text-sm">2,175.50</td>
                                <td class="px-4 py-2 text-sm">2,185.50</td>
                                <td class="px-4 py-2 text-sm profit">+$50.00</td>
                                <td class="px-4 py-2 text-sm">
                                    <button class="cyber-button-primary px-2 py-1 text-xs mr-1">CLOSE</button>
                                    <button class="cyber-button px-2 py-1 text-xs">EDIT</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2 text-sm font-mono">#123458</td>
                                <td class="px-4 py-2 text-sm">BTC/USD</td>
                                <td class="px-4 py-2 text-sm">0.02</td>
                                <td class="px-4 py-2 text-sm">65,000.00 / 70,000.00</td>
                                <td class="px-4 py-2 text-sm">68,500.00</td>
                                <td class="px-4 py-2 text-sm">68,245.00</td>
                                <td class="px-4 py-2 text-sm loss">-$51.00</td>
                                <td class="px-4 py-2 text-sm">
                                    <button class="cyber-button-primary px-2 py-1 text-xs mr-1">CLOSE</button>
                                    <button class="cyber-button px-2 py-1 text-xs">EDIT</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Mobile Trade Panel -->
            <div class="md:hidden bg-[var(--panel)] border-t border-[var(--border)] p-3">
                <div class="flex justify-between mb-3">
                    <div class="text-sm font-medium">EUR/USD</div>
                    <div class="font-display">1.0845</div>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <div class="text-xs text-[var(--text-dim)] mb-1">VOLUME (LOTS)</div>
                        <input type="number" value="0.1" class="w-full bg-[var(--bg-dark)] border border-[var(--border)] rounded px-2 py-1 text-sm">
                    </div>
                    <div>
                        <div class="text-xs text-[var(--text-dim)] mb-1">TYPE</div>
                        <select class="w-full bg-[var(--bg-dark)] border border-[var(--border)] rounded px-2 py-1 text-sm">
                            <option>Market</option>
                            <option>Limit</option>
                            <option>Stop</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-3 mt-3">
                    <button class="cyber-button-primary py-2 rounded text-sm font-medium">BUY</button>
                    <button class="cyber-button-secondary py-2 rounded text-sm font-medium">SELL</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Mobile Navigation -->
    <nav class="md:hidden flex justify-around items-center bg-[var(--panel)] border-t border-[var(--border)] py-2">
        <div class="flex flex-col items-center active-tab">
            <i data-feather="activity" class="w-5 h-5"></i>
            <span class="text-xs mt-1">TRADE</span>
        </div>
        <div class="flex flex-col items-center">
            <i data-feather="briefcase" class="w-5 h-5"></i>
            <span class="text-xs mt-1">POSITIONS</span>
        </div>
        <div class="flex flex-col items-center">
            <i data-feather="clock" class="w-5 h-5"></i>
            <span class="text-xs mt-1">HISTORY</span>
        </div>
        <div class="flex flex-col items-center">
            <i data-feather="user" class="w-5 h-5"></i>
            <span class="text-xs mt-1">ACCOUNT</span>
        </div>
    </nav>

    <script>
        // Initialize Feather Icons
        feather.replace();
        let openTrades = [];
let tradeIdCounter = 1;

function openTrade(symbol, type, volume, price) {
    const sl = type === 'buy' ? (price * 0.99).toFixed(4) : (price * 1.01).toFixed(4); // 1% SL
    const tp = type === 'buy' ? (price * 1.01).toFixed(4) : (price * 0.99).toFixed(4); // 1% TP

    const trade = {
        id: tradeIdCounter++,
        symbol,
        type,
        volume: parseFloat(volume),
        openPrice: parseFloat(price.toFixed(4)),
        currentPrice: parseFloat(price.toFixed(4)),
        sl,
        tp,
        pl: 0,
        timestamp: new Date().toLocaleTimeString()
    };

    openTrades.push(trade);
    updateTradeTable();
}
function updateTradeTable() {
    const tbody = document.querySelector('table tbody');
    if (!tbody) return;

    tbody.innerHTML = ''; // Clear existing rows

    openTrades.forEach(trade => {
        const tr = document.createElement('tr');

        tr.innerHTML = `
            <td class="px-4 py-2 text-sm font-mono">#${trade.id}</td>
            <td class="px-4 py-2 text-sm">${trade.symbol}</td>
            <td class="px-4 py-2 text-sm">${trade.volume}</td>
            <td class="px-4 py-2 text-sm">${trade.sl} / ${trade.tp}</td>
            <td class="px-4 py-2 text-sm">${trade.openPrice}</td>
            <td class="px-4 py-2 text-sm">${trade.currentPrice}</td>
            <td class="px-4 py-2 text-sm ${parseFloat(trade.pl) >= 0 ? 'profit' : 'loss'}">${parseFloat(trade.pl) >= 0 ? '+' : ''}${trade.pl}</td>
            <td class="px-4 py-2 text-sm">
                <button onclick="closeTrade(${trade.id})" class="cyber-button-primary px-2 py-1 text-xs mr-1">CLOSE</button>
                <button class="cyber-button px-2 py-1 text-xs">EDIT</button>
            </td>
        `;
        tbody.appendChild(tr);
    });
    function handleTrade(type) {
    const symbol = document.querySelector('.font-display.font-medium').textContent;
    const volumeInput = document.querySelector('input[type=number]');
    if (!volumeInput) return;

    const volume = parseFloat(volumeInput.value);
    const priceCard = [...document.querySelectorAll('.symbol-card')]
        .find(card => card.querySelector('.font-medium')?.textContent === symbol);

    if (!priceCard) return;

    const price = parseFloat(priceCard.querySelector('.font-display').textContent.replace(/,/g, ''));
    if (!isNaN(price) && volume > 0) {
        openTrade(symbol, type, volume, price);
    }
}

    function closeTrade(id) {
    const index = openTrades.findIndex(trade => trade.id === id);
    if (index !== -1) {
        const trade = openTrades[index];
        const pl = parseFloat(trade.pl);

        // Update balance/equity
        updateBalance(pl);

        // Remove trade
        openTrades.splice(index, 1);
        updateTradeTable();
    }
}
function updateBalance(amount) {
    const equityElements = document.querySelectorAll('.font-display.font-bold');
    equityElements.forEach(el => {
        if (el.textContent.includes('$')) {
            let currentValue = parseFloat(el.textContent.replace(/[^0-9.]/g, ''));
            let newValue = currentValue + amount;
            el.textContent = `$${newValue.toFixed(2)}`;
        }
    });
}


    updateMobileEquity(); // Update equity shown in mobile view
}
        // Initialize TradingView Widget
        function initTradingView() {
            new TradingView.widget({
                "autosize": true,
                "symbol": "FX:EURUSD",
                "interval": "60",
                "timezone": "Etc/UTC",
                "theme": "dark",
                "style": "1",
                "locale": "en",
                "toolbar_bg": "#12121a",
                "enable_publishing": false,
                "hide_top_toolbar": false,
                "hide_side_toolbar": false,
                "allow_symbol_change": true,
                "studies": [
                    "MAExp@tv-basicstudies",
                    "RSI@tv-basicstudies"
                ],
                "container_id": "tradingview-chart",
                "overrides": {
                    "mainSeriesProperties.style": 1,
                    "mainSeriesProperties.candleStyle.upColor": "#00ff85",
                    "mainSeriesProperties.candleStyle.downColor": "#ff3c3c",
                    "mainSeriesProperties.candleStyle.borderUpColor": "#00ff85",
                    "mainSeriesProperties.candleStyle.borderDownColor": "#ff3c3c",
                    "mainSeriesProperties.candleStyle.wickUpColor": "#00ff85",
                    "mainSeriesProperties.candleStyle.wickDownColor": "#ff3c3c",
                    "paneProperties.background": "#12121a",
                    "paneProperties.vertGridProperties.color": "#25253a",
                    "paneProperties.horzGridProperties.color": "#25253a",
                    "scalesProperties.textColor": "#e0e0ff",
                    "scalesProperties.lineColor": "#25253a"
                }
            });
        }
        
        // Wait for TradingView script to load
        if (typeof TradingView !== 'undefined') {
            initTradingView();
        } else {
            window.addEventListener('load', initTradingView);
        }
        
        // Toggle mobile menu
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }
        
        // Simulate real-time updates with more realistic price movements
        function updatePrices() {
    const priceElements = document.querySelectorAll('.symbol-card, .mobile-market-card');
    priceElements.forEach(card => {
        // Prevent interfering with TradingView chart
        if (card.closest('#tradingview-chart')) {
            console.warn("Skipping TradingView container");
            return;
        }

        const priceElement = card.querySelector('.font-display');
        const changeElement = card.querySelector('.profit, .loss');
        const symbolElement = card.querySelector('.font-medium');

        if (!priceElement || !changeElement || !symbolElement) {
            console.warn("Required element missing in card:", card);
            return;
        }

        let currentPrice = parseFloat(priceElement.textContent.replace(/,/g, ''));
        if (isNaN(currentPrice)) {
            currentPrice = parseFloat(priceElement.textContent);
        }
        if (isNaN(currentPrice)) {
            console.warn("Could not parse price:", priceElement.textContent);
            return;
        }

        const symbol = symbolElement.textContent;
        let volatility = 0.001;

        if (symbol.includes('BTC') || symbol.includes('ETH')) {
            volatility = 0.01;
        } else if (symbol.includes('XAU')) {
            volatility = 0.002;
        } else if (symbol.includes('/')) {
            volatility = 0.0005;
        } else {
            volatility = 0.005;
        }

        let change = (Math.random() - 0.5) * 2 * volatility;
        const currentTrend = changeElement.classList.contains('profit') ? 1 : -1;
        change += currentTrend * volatility * 0.3;
        const newPrice = currentPrice * (1 + change);
        const isPositive = change > 0;

        // Update price display
        if (currentPrice > 100) {
            priceElement.textContent = newPrice.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        } else {
            priceElement.textContent = newPrice.toFixed(4);
        }

        // Update change percentage
        const changePercent = (change * 100).toFixed(2);
        changeElement.textContent = `${changePercent > 0 ? '+' : ''}${changePercent}%`;

        // Update color classes
        changeElement.classList.remove('profit', 'loss');
        changeElement.classList.add(isPositive ? 'profit' : 'loss');
    });
            
            // Update P/L in open positions with realistic changes
            const plElements = document.querySelectorAll('td.profit, td.loss');
            plElements.forEach(el => {
                const currentValue = parseFloat(el.textContent.replace(/[^0-9.-]/g, ''));
                const positionSize = parseFloat(el.parentElement.querySelector('td:nth-child(3)').textContent);
                
                // More realistic P/L changes based on position size
                const change = (Math.random() - 0.5) * 10 * positionSize;
                const newValue = currentValue + change;
                
                el.textContent = newValue > 0 ? `+$${newValue.toFixed(2)}` : `-$${Math.abs(newValue).toFixed(2)}`;
                el.classList.remove(newValue > 0 ? 'loss' : 'profit');
                el.classList.add(newValue > 0 ? 'profit' : 'loss');
            });
            
            // Update equity and balance with small random changes
            const equityElements = document.querySelectorAll('.font-display.font-bold');
            equityElements.forEach(el => {
                if (el.textContent.includes('$')) {
                    const currentValue = parseFloat(el.textContent.replace(/[^0-9.]/g, ''));
                    const change = (Math.random() - 0.5) * 5;
                    const newValue = currentValue + change;
                    el.textContent = `$${newValue.toFixed(2)}`;
                }
            });
        }
        
        // Update prices every 1.5 seconds for more fluid feel
        setInterval(updatePrices, 1500);
        
        // Tab switching functionality
        document.querySelectorAll('.flex.border-b div').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.flex.border-b div').forEach(t => {
                    t.classList.remove('active-tab');
                    t.classList.add('text-[var(--text-dim)]');
                });
                
                // Add active class to clicked tab
                this.classList.add('active-tab');
                this.classList.remove('text-[var(--text-dim)]');
            });
        });
        
        // Mobile tab switching
        document.querySelectorAll('nav div').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('nav div').forEach(t => {
                    t.classList.remove('active-tab');
                });
                
                // Add active class to clicked tab
                this.classList.add('active-tab');
            });
        });
        
        // Symbol selection
        document.querySelectorAll('.symbol-card').forEach(card => {
            card.addEventListener('click', function() {
                const symbol = this.querySelector('.font-medium').textContent;
                document.querySelector('.font-display.font-medium').textContent = symbol;
                
                // Update current symbol info
                const currentSymbolInfo = document.querySelector('.flex.items-center.justify-between.px-4.py-2');
                if (currentSymbolInfo) {
                    const symbolType = this.querySelector('div:nth-child(1) div span').textContent;
                    currentSymbolInfo.querySelector('div:nth-child(1) div:nth-child(1) span').textContent = symbolType;
                }
                
                // In a real app, we would update the chart here
                console.log(`Switched to ${symbol} chart`);
            });
        });
        
        // Add cyberpunk terminal effect to some elements
        function addTerminalEffect() {
            const elements = document.querySelectorAll('.font-display, .font-mono');
            elements.forEach(el => {
                el.classList.add('text-[var(--primary)]');
            });
        }
        
        // Initialize terminal effect
        addTerminalEffect();
        
        // Simulate connection status
        function updateConnectionStatus() {
            const statusElements = document.querySelectorAll('.pulse');
            statusElements.forEach(el => {
                // Randomly change status (90% chance of being live)
                if (Math.random() > 0.9) {
                    el.classList.remove('bg-[var(--primary)]');
                    el.classList.add('bg-[var(--loss)]');
                    el.textContent = 'OFFLINE';
                } else {
                    el.classList.remove('bg-[var(--loss)]');
                    el.classList.add('bg-[var(--primary)]');
                    el.textContent = 'LIVE';
                }
            });
        }
        
        // Update connection status every 10 seconds
        setInterval(updateConnectionStatus, 10000);
    </script>
</body>
</html>